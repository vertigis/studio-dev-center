"use strict";(globalThis.webpackChunkvertigis_studio_dev_center=globalThis.webpackChunkvertigis_studio_dev_center||[]).push([[1916],{9912:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var t=i(7624),s=i(2172),r=i(1920);const o={title:"Components and Services",description:"VertiGIS Studio Web - Component and service configuration"},c=void 0,a={id:"web/api-components",title:"Components and Services",description:"VertiGIS Studio Web - Component and service configuration",source:"@site/docs/web/api-components.mdx",sourceDirName:"web",slug:"/web/api-components",permalink:"/docs/web/api-components",draft:!1,unlisted:!1,editUrl:"https://github.com/vertigis/studio-dev-center/edit/master/docs/web/api-components.mdx",tags:[],version:"current",frontMatter:{title:"Components and Services",description:"VertiGIS Studio Web - Component and service configuration"},sidebar:"web",previous:{title:"Commands, Operations and Events Reference",permalink:"/docs/web/api-commands-operations-events"}},d={},l=[];function m(e){const n={a:"a",admonition:"admonition",p:"p",...(0,s.M)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["Here is a detailed schema for JSON that can be used within ",(0,t.jsx)(n.a,{href:"/docs/web/configuration-app-config-getting-started",children:"App config"})," to configure components and services."]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Another way to discover the methods and configurable properties of built-in models and services is to explore the Typescript definitions using your IDE of choice. We recommend ",(0,t.jsx)(n.a,{href:"https://code.visualstudio.com/",children:"Visual Studio Code"}),"."]})}),"\n",(0,t.jsx)(r.c,{product:"web",type:"config"})]})}function p(e={}){const{wrapper:n}={...(0,s.M)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(m,{...e})}):m(e)}},1920:(e,n,i)=>{i.d(n,{c:()=>v});var t=i(1504),s=i(3664),r=i(7624);function o(e){return e.replace("#/definitions/","")}function c(e){return`definition-${o(e)}`}function a(e,n){const i=o(e);if(!(i.startsWith("esri.rest-api")||i.startsWith("viewer-spec.SingleCommand")||i.startsWith("viewer-spec.SingleOperation")))return n.definitions[i]}function d(e){const{isArray:n,name:i,schema:t}=e,s=o(i),d=s.replace("/",".").split("."),l=d[d.length-1],m=a(i,t);if(m&&"object"===m.type)return(0,r.jsxs)("span",{children:[(0,r.jsx)("code",{children:(0,r.jsxs)("a",{href:`#${c(i)}`,children:[l,n&&"[]"]})}),l!==s&&(0,r.jsx)("small",{children:` ${s}`})]});if(s.startsWith("esri")&&!s.includes("rest-api")){const e=s.replace(".","/").split("/");return(0,r.jsxs)("span",{children:[(0,r.jsx)("code",{children:(0,r.jsxs)("span",{children:[(0,r.jsx)("a",{href:`https://developers.arcgis.com/javascript/latest/api-reference/${e.join("-")}.html`,target:"_blank",children:e[e.length-1]}),n&&"[]"]})}),(0,r.jsx)("small",{children:` @arcgis.core.${e.splice(1).join(".")}`})]})}return(0,r.jsxs)("span",{children:[(0,r.jsxs)("code",{children:[l,n&&"[]"]}),l!==s&&(0,r.jsx)("small",{children:` ${s}`})]})}function l(e,n,i){let{description:t}=e;if(!t)return;const s=t.match(/{@link ([a-zA-Z\.\s\/!]*?)}|`(.*?)`/g);if(!s)return(0,r.jsx)("div",{className:i,children:t});const o=e=>{const i=e?.split(".")[0],t=e?.split(".")[1];return i&&t&&n.definitions[i]?.properties?.[t]};if(1===s.length&&t.toLocaleLowerCase().startsWith("see {@link")){const s=t.toLocaleLowerCase().match(/(see {@link )([a-zA-Z\.\/!\s]*?)}/)?.[2],r=e.$ref?a(e.$ref,n):o(s);return r?l(r,n,i):void 0}return(0,r.jsx)("div",{className:i,children:s.flatMap(((e,n)=>((e,n)=>{const i=t?.indexOf(e)??0,c=t?.slice(0,i),a=t?.slice(i),d=e?.match(/{@link ([a-zA-Z\.\s\/!]*?)}|`(.*?)`/),l=(d?.[1]??d?.[2])?.trim(),m=o(l??"")?.$ref,p=l?.split("!")[1]??l,h=m?(0,r.jsx)("a",{href:m,children:"shortText"}):p;return t=a?.slice(e.length),0===n?1===s.length?[(0,r.jsx)("span",{children:c}),(0,r.jsx)("code",{children:h}),(0,r.jsx)("span",{children:a?.slice(e.length)})]:[(0,r.jsx)("span",{children:c}),(0,r.jsx)("code",{children:h}),(0,r.jsx)("span",{children:t?.slice(0,t?.indexOf(s[n+1]))})]:t?.length?n<s.length-1?[(0,r.jsx)("code",{children:h}),(0,r.jsx)("span",{children:t?.slice(0,t?.indexOf(s[n+1]))})]:[(0,r.jsx)("code",{children:h}),(0,r.jsx)("span",{children:a?.slice(e.length)})]:[(0,r.jsx)("code",{children:h})]})(e,n)))})}function m(e,n){return e.properties?(0,r.jsx)("div",{className:"margin-left--sm",children:Object.entries(e.properties).map((([i,t])=>(0,r.jsxs)("div",{className:"margin-bottom--md",children:[(0,r.jsxs)("div",{className:"margin-bottom--sm",children:[(0,r.jsx)("div",{role:"heading","aria-level":4,className:"monospaceHeader",children:i}),e.required?.includes(i)&&(0,r.jsx)("span",{className:"badge badge--secondary",children:"Required"})]}),(0,r.jsxs)("div",{className:"margin-left--sm",children:[(0,r.jsx)(p,{definition:t,schema:n}),l(t,n,"margin-top--sm")]})]},i)))}):null}function p(e){const{schema:n}=e;let i=e.definition;if("string"==typeof i){const e=a(i,n);console.warn("Couldn't find definition:",i),i=e}if(!i)return(0,r.jsx)("div",{style:{fontStyle:"italic"},children:"There are no arguments"});if(i.$ref){const e=a(i.$ref,n);return e&&"object"!==e.type?(0,r.jsx)(p,{definition:e,schema:n}):(0,r.jsx)(d,{name:i.$ref,schema:n})}if(i.type){if("string"===i.type&&i.enum){const e=i.enum.map((e=>`"${e}"`)).join(" | ");return(0,r.jsx)("code",{children:e})}if("array"===i.type&&i.items){const e=e=>(0,r.jsx)(r.Fragment,{children:e.map(((e,i)=>(0,r.jsx)("div",{children:(0,r.jsx)(d,{isArray:!0,name:e.$ref??"",schema:n})},`${e.$ref}-${i}`||i)))});if(Array.isArray(i.items))return e(i.items);if(Array.isArray(i.items.anyOf))return e(i.items.anyOf);if(i.items.$ref){const e=i.items.$ref;return(0,r.jsx)(d,{isArray:!0,name:e,schema:n})}return(0,r.jsxs)("code",{children:[i.items.type,"[]"]})}if("object"===i.type)return(e=>e.properties&&2===Object.keys(e.properties).length&&2===e.required?.length&&"name"===e.required[0]&&"arguments"===e.required[1])(i)?null:i.properties?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("code",{children:"object"}),m(i,n)]}):i.additionalProperties&&!0!==i.additionalProperties&&"string"===i.additionalProperties.type?(0,r.jsx)("code",{children:i.additionalProperties.enum?.map((e=>`"${e}"`)).join(" | ")}):(0,r.jsx)("code",{children:"object"});if(Array.isArray(i.type)){const e=i.type.filter((e=>"null"!==e));return 0===e.length?null:1===e.length?(0,r.jsx)("code",{children:e[0]}):(0,r.jsx)(r.Fragment,{children:e.map((e=>(0,r.jsx)("div",{children:(0,r.jsx)("code",{children:e})},e)))})}return(0,r.jsx)("code",{children:i.type})}if(i.anyOf){const e=i.anyOf.filter((e=>!("null"===e.type)));return(0,r.jsxs)(r.Fragment,{children:[e.length>1&&(0,r.jsx)("div",{children:"Any of:"}),e.map(((e,i)=>(0,r.jsx)("div",{children:(0,r.jsx)(p,{definition:e,schema:n})},`${e.$ref}-${i}`||i)))]})}return(0,r.jsx)("code",{children:"unknown"})}function h(e){return!!e.$ref}function u(e){return e?.type?.includes("null")||e?.anyOf?.some(u)}function f(e){const{schema:n,type:i}=e,t=n.definitions;let s;s="command"===i?"viewer-spec.SingleCommand":"operation"===i?"viewer-spec.SingleOperation":"viewer-spec.Event";const c=t[s]?.anyOf?.filter(h).map((e=>o(e.$ref)));return c?(0,r.jsx)(r.Fragment,{children:c.map((e=>{const s=t[e],o=function(e,n){return`${n}-${e}`}(e,i),c=t[`${e}:input`],a=t[`${e}:output`];return s?(0,r.jsxs)("div",{className:"margin-bottom--lg",children:[(0,r.jsx)("h2",{id:o,children:e}),l(s,n,"margin-bottom--md"),(0,r.jsxs)("div",{className:"margin-bottom--md",children:[(0,r.jsx)("h3",{children:"Argument "+(!0===u(c)?"(optional)":"")}),(0,r.jsx)("div",{className:"margin-left--sm",children:(0,r.jsx)(p,{definition:c,schema:n})})]}),"operation"===i&&a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:"Result"}),(0,r.jsx)("div",{className:"margin-left--sm",children:(0,r.jsx)(p,{definition:a,schema:n})})]})]},e):null}))}):null}function j(e){const{definitionName:n,schema:i}=e,t=o(n),s=t.replace("/",".").split("."),d=s[s.length-1],p=a(n,i);if(!p)return null;if("object"!==p.type)return console.warn("Tried to render definition for non-object type",t),null;const h=c(t);return(0,r.jsxs)("div",{className:"margin-bottom--lg",children:[(0,r.jsxs)("span",{children:[(0,r.jsx)("h2",{id:h,children:d}),d!==t&&(0,r.jsx)("h5",{children:`${t}`})]}),l(p,i,"margin-bottom--md"),(0,r.jsx)("h3",{children:"Properties"}),(!p.properties||0===Object.keys(p.properties).length)&&(0,r.jsx)("em",{children:"This object doesn't currently contain any properties."}),p.properties&&m(p,i)]})}function x(e){const{schema:n}=e,i=Object.entries(n.definitions).reduce(((e,[n,i])=>"object"===i.type?{...e,[n]:i}:e),{});return(0,r.jsx)("div",{children:Object.keys(i).sort(((e,n)=>{const i=e.toLocaleLowerCase().includes("modelproperties"),t=n.toLocaleLowerCase().includes("modelproperties");return i&&t?e.localeCompare(n):i?-1:t?1:e.localeCompare(n)})).map((e=>(0,r.jsx)(j,{definitionName:e,schema:n},e)))})}function g(e){const{schema:n,type:i}=e;return(0,r.jsxs)(r.Fragment,{children:[("argument"===i||"config"===i)&&(0,r.jsx)(x,{schema:n}),"command"===i&&(0,r.jsx)(f,{schema:n,type:"command"}),"event"===i&&(0,r.jsx)(f,{schema:n,type:"event"}),"operation"===i&&(0,r.jsx)(f,{schema:n,type:"operation"})]})}function v(e){return function({children:e,fallback:n}){return(0,s.c)()?(0,r.jsx)(r.Fragment,{children:e?.()}):n??null}({children:()=>(0,r.jsx)(b,{...e})})}const y={web:{action:void 0,event:void 0,config:void 0},mobile:{action:void 0,event:void 0,config:void 0},common:{action:void 0,event:void 0,config:void 0}};function b(e){const{product:n,type:i}=e,[s,o]=(0,t.useState)();return(0,t.useEffect)((()=>{let e,t=!1;switch(i){case"command":case"operation":e="action";break;case"event":e="event";break;case"config":e="config"}return(async()=>{e&&!y[n][e]&&("config"===i?(y.common[e]=fetch("https://apps.vertigisstudio.com/web/common-app-config.schema.json"),y[n][e]=fetch(`https://apps.vertigisstudio.com/web/${n}-app-config.schema.json`)):y[n][e]=fetch(`https://apps.vertigisstudio.com/web/${n}-${e}.schema.json`));const s=[];if("config"===e){const e=await y.common.config,i=await y[n].config,t=await e.clone().json(),r=await i.clone().json();s.push(t),s.push(r)}else{const e=await y[n].action,i=await y[n].event,t=await e.clone().json(),r=await i.clone().json();s.push(t),s.push(r)}if(t)return;const r={$ref:"#/definitions/viewer-spec.ActionObject"},c={type:"string"},a={definitions:"config"!==i?{"viewer-spec.ActionObject":{properties:{name:{description:"The name of a command or operation.",type:"string"},arguments:{description:"The arguments for the command or operation.",type:"object"}},required:["name","arguments"],type:"object"},"viewer-spec.Action":{description:`An action to execute in the viewer; can be an action name, an action object, or a command chain (https://developers.vertigisstudio.com/docs/${n}/configuration-commands-operations/#command-chains). The list of valid action names are the names of the commands and operations listed in this document`,anyOf:[c,r,{items:{anyOf:[c,r]},type:"array"}]}}:{}};s.forEach((e=>{Object.keys(e.definitions).forEach((n=>{a.definitions[n]=e.definitions[n]}))})),o(a)})(),()=>{t=!0}}),[n]),(0,t.useEffect)((()=>{if(!s)return;const e=window.decodeURIComponent(window.location.hash);e&&document.getElementById(e.substring(1))?.scrollIntoView()}),[s]),s?(0,r.jsx)(g,{schema:s,type:i}):(0,r.jsx)("div",{children:"Loading..."})}},2172:(e,n,i)=>{i.d(n,{I:()=>c,M:()=>o});var t=i(1504);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);