"use strict";(globalThis.webpackChunkvertigis_studio_dev_center=globalThis.webpackChunkvertigis_studio_dev_center||[]).push([[1916],{9912:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>r,metadata:()=>a,toc:()=>m});var i=t(7624),o=t(2172),s=t(1920);const r={title:"Components and Services",description:"VertiGIS Studio Web - Component and service configuration"},c=void 0,a={id:"web/api-components",title:"Components and Services",description:"VertiGIS Studio Web - Component and service configuration",source:"@site/docs/web/api-components.mdx",sourceDirName:"web",slug:"/web/api-components",permalink:"/docs/web/api-components",draft:!1,unlisted:!1,editUrl:"https://github.com/vertigis/studio-dev-center/edit/master/docs/web/api-components.mdx",tags:[],version:"current",frontMatter:{title:"Components and Services",description:"VertiGIS Studio Web - Component and service configuration"},sidebar:"web",previous:{title:"Commands, Operations and Events Reference",permalink:"/docs/web/api-commands-operations-events"}},d={},m=[];function l(e){const n={a:"a",admonition:"admonition",p:"p",...(0,o.M)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Here is a detailed schema for JSON that can be used within ",(0,i.jsx)(n.a,{href:"/docs/web/configuration-app-config-getting-started",children:"App config"})," to configure components and services."]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["Another way to discover the methods and configurable properties of built-in models and services is to explore the Typescript definitions using your IDE of choice. We recommend ",(0,i.jsx)(n.a,{href:"https://code.visualstudio.com/",children:"Visual Studio Code"}),"."]})}),"\n",(0,i.jsx)(s.c,{product:"web",type:"config"})]})}function p(e={}){const{wrapper:n}={...(0,o.M)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},1920:(e,n,t)=>{t.d(n,{c:()=>x});var i=t(1504),o=t(3664),s=t(7624);function r(e){return e.replace("#/definitions/","")}function c(e){return`definition-${r(e)}`}function a(e,n){const t=r(e);if(!(t.startsWith("esri.rest-api")||t.startsWith("viewer-spec.SingleCommand")||t.startsWith("viewer-spec.SingleOperation")))return n.definitions[t]}function d(e){const{isArray:n,name:t,schema:i}=e,o=r(t),d=a(t,i);return d&&"object"===d.type?(0,s.jsx)("code",{children:(0,s.jsxs)("a",{href:`#${c(t)}`,children:[o,n&&"[]"]})}):(0,s.jsxs)("code",{children:[o,n&&"[]"]})}function m(e,n,t){let i=e;if(!i.description)return null;if(i.description.toLocaleLowerCase().startsWith("see {@link")){let e;if(i.$ref)e=a(i.$ref,n);else{const t=i.description.toLocaleLowerCase().match(/(see {@link )([a-zA-Z\.]*)/),o=t?.[2].split(".")[0],s=t?.[2].split(".")[1];o&&s&&(e=n.definitions[o]?.properties?.[s])}e&&(i=e);const t=i.description?.toLocaleLowerCase().match(/see \{\@link [a-zA-Z\.}.]*/)?.[0];t&&(i.description=i.description.replace(t,""))}return i.description&&(0,s.jsx)("div",{className:t,children:i.description})}function l(e,n){return e.properties?(0,s.jsx)("div",{className:"margin-left--sm",children:Object.entries(e.properties).map((([t,i])=>(0,s.jsxs)("div",{className:"margin-bottom--md",children:[(0,s.jsxs)("div",{className:"margin-bottom--sm",children:[(0,s.jsx)("code",{children:t}),e.required?.includes(t)&&(0,s.jsx)("span",{className:"badge badge--secondary",children:"Required"})]}),(0,s.jsxs)("div",{className:"margin-left--sm",children:[(0,s.jsx)(p,{definition:i,schema:n}),m(i,n,"margin-top--sm")]})]},t)))}):null}function p(e){const{schema:n}=e;let t=e.definition;if("string"==typeof t){const e=a(t,n);console.warn("Couldn't find definition:",t),t=e}if(!t)return(0,s.jsx)("div",{style:{fontStyle:"italic"},children:"There are no arguments"});if(t.$ref){const e=a(t.$ref,n);return e&&"object"!==e.type?(0,s.jsx)(p,{definition:e,schema:n}):(0,s.jsx)(d,{name:t.$ref,schema:n})}if(t.type){if("string"===t.type&&t.enum){const e=t.enum.map((e=>`"${e}"`)).join(" | ");return(0,s.jsx)("code",{children:e})}if("array"===t.type&&t.items){const e=e=>(0,s.jsx)(s.Fragment,{children:e.map(((e,t)=>(0,s.jsxs)("div",{children:[(0,s.jsx)(p,{definition:e,schema:n}),"[]"]},`${e.$ref}-${t}`||t)))});if(Array.isArray(t.items))return e(t.items);if(Array.isArray(t.items.anyOf))return e(t.items.anyOf);if(t.items.$ref){const e=t.items.$ref;return(0,s.jsx)(d,{isArray:!0,name:e,schema:n})}return(0,s.jsxs)("code",{children:[t.items.type,"[]"]})}if("object"===t.type)return(e=>e.properties&&2===Object.keys(e.properties).length&&2===e.required?.length&&"name"===e.required[0]&&"arguments"===e.required[1])(t)?null:t.properties?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("code",{children:"object"}),l(t,n)]}):t.additionalProperties&&!0!==t.additionalProperties&&"string"===t.additionalProperties.type?(0,s.jsx)("code",{children:t.additionalProperties.enum?.map((e=>`"${e}"`)).join(" | ")}):(0,s.jsx)("code",{children:"object"});if(Array.isArray(t.type)){const e=t.type.filter((e=>"null"!==e));return 0===e.length?null:1===e.length?(0,s.jsx)("code",{children:e[0]}):(0,s.jsx)(s.Fragment,{children:e.map((e=>(0,s.jsx)("div",{children:(0,s.jsx)("code",{children:e})},e)))})}return(0,s.jsx)("code",{children:t.type})}if(t.anyOf){const e=t.anyOf.filter((e=>!("null"===e.type)));return(0,s.jsxs)(s.Fragment,{children:[e.length>1&&(0,s.jsx)("div",{children:"Any of:"}),e.map(((e,t)=>(0,s.jsx)("div",{children:(0,s.jsx)(p,{definition:e,schema:n})},`${e.$ref}-${t}`||t)))]})}return(0,s.jsx)("code",{children:"unknown"})}function u(e){return!!e.$ref}function f(e){return e?.type?.includes("null")||e?.anyOf?.some(f)}function h(e){const{schema:n,type:t}=e,i=n.definitions;let o;o="command"===t?"viewer-spec.SingleCommand":"operation"===t?"viewer-spec.SingleOperation":"viewer-spec.Event";const c=i[o]?.anyOf?.filter(u).map((e=>r(e.$ref)));return c?(0,s.jsx)(s.Fragment,{children:c.map((e=>{const o=i[e],r=function(e,n){return`${n}-${e}`}(e,t),c=i[`${e}:input`],a=i[`${e}:output`];return o?(0,s.jsxs)("div",{className:"margin-bottom--lg",children:[(0,s.jsx)("h3",{id:r,children:e}),m(o,n,"margin-bottom--md"),(0,s.jsxs)("div",{className:"margin-bottom--md",children:[(0,s.jsx)("div",{children:"Argument "+(!0===f(c)?"(optional)":"")}),(0,s.jsx)("div",{className:"margin-left--sm",children:(0,s.jsx)(p,{definition:c,schema:n})})]}),"operation"===t&&a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:"Result"}),(0,s.jsx)("div",{className:"margin-left--sm",children:(0,s.jsx)(p,{definition:a,schema:n})})]})]},e):null}))}):null}function j(e){const{definitionName:n,schema:t}=e,i=r(n),o=a(n,t);if(!o)return null;if("object"!==o.type)return console.warn("Tried to render definition for non-object type",i),null;const d=c(i);return(0,s.jsxs)("div",{className:"margin-bottom--lg",children:[(0,s.jsx)("h3",{id:d,children:i}),m(o,t,"margin-bottom--md"),(0,s.jsx)("div",{children:"Properties"}),(!o.properties||0===Object.keys(o.properties).length)&&(0,s.jsx)("em",{children:"This object doesn't currently contain any properties."}),o.properties&&l(o,t)]})}function g(e){const{schema:n}=e,t=Object.entries(n.definitions).reduce(((e,[n,t])=>"object"===t.type?{...e,[n]:t}:e),{});return(0,s.jsx)("div",{children:Object.keys(t).sort(((e,n)=>{const t=e.toLocaleLowerCase().includes("modelproperties"),i=n.toLocaleLowerCase().includes("modelproperties");return t&&i?e.localeCompare(n):t?-1:i?1:e.localeCompare(n)})).map((e=>(0,s.jsx)(j,{definitionName:e,schema:n},e)))})}function v(e){const{schema:n,type:t}=e;return(0,s.jsxs)(s.Fragment,{children:[("argument"===t||"config"===t)&&(0,s.jsx)(g,{schema:n}),"command"===t&&(0,s.jsx)(h,{schema:n,type:"command"}),"event"===t&&(0,s.jsx)(h,{schema:n,type:"event"}),"operation"===t&&(0,s.jsx)(h,{schema:n,type:"operation"})]})}function x(e){return function({children:e,fallback:n}){return(0,o.c)()?(0,s.jsx)(s.Fragment,{children:e?.()}):n??null}({children:()=>(0,s.jsx)(b,{...e})})}const y={web:{action:void 0,event:void 0,config:void 0},mobile:{action:void 0,event:void 0,config:void 0},common:{action:void 0,event:void 0,config:void 0}};function b(e){const{product:n,type:t}=e,[o,r]=(0,i.useState)();return(0,i.useEffect)((()=>{let e,i=!1;switch(t){case"command":case"operation":e="action";break;case"event":e="event";break;case"config":e="config"}return(async()=>{e&&!y[n][e]&&("config"===t?(y.common[e]=fetch("https://apps.vertigisstudio.com/web/common-app-config.schema.json"),y[n][e]=fetch(`https://apps.vertigisstudio.com/web/${n}-app-config.schema.json`)):y[n][e]=fetch(`https://apps.vertigisstudio.com/web/${n}-${e}.schema.json`));const o=[];if("config"===e){const e=await y.common.config,t=await y[n].config,i=await e.clone().json(),s=await t.clone().json();o.push(i),o.push(s)}else{const e=await y[n].action,t=await y[n].event,i=await e.clone().json(),s=await t.clone().json();o.push(i),o.push(s)}if(i)return;const s={$ref:"#/definitions/viewer-spec.ActionObject"},c={type:"string"},a={definitions:"config"!==t?{"viewer-spec.ActionObject":{properties:{name:{description:"The name of a command or operation.",type:"string"},arguments:{description:"The arguments for the command or operation.",type:"object"}},required:["name","arguments"],type:"object"},"viewer-spec.Action":{description:`An action to execute in the viewer; can be an action name, an action object, or a command chain (https://developers.vertigisstudio.com/docs/${n}/configuration-commands-operations/#command-chains). The list of valid action names are the names of the commands and operations listed in this document`,anyOf:[c,s,{items:{anyOf:[c,s]},type:"array"}]}}:{}};o.forEach((e=>{Object.keys(e.definitions).forEach((n=>{a.definitions[n]=e.definitions[n]}))})),r(a)})(),()=>{i=!0}}),[n]),(0,i.useEffect)((()=>{if(!o)return;const e=window.decodeURIComponent(window.location.hash);e&&document.getElementById(e.substring(1))?.scrollIntoView()}),[o]),o?(0,s.jsx)(v,{schema:o,type:t}):(0,s.jsx)("div",{children:"Loading..."})}},2172:(e,n,t)=>{t.d(n,{I:()=>c,M:()=>r});var i=t(1504);const o={},s=i.createContext(o);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);