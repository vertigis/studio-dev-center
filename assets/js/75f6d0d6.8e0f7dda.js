"use strict";(globalThis.webpackChunkvertigis_studio_dev_center=globalThis.webpackChunkvertigis_studio_dev_center||[]).push([[4414],{8280:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>r,metadata:()=>a,toc:()=>m});var t=i(7624),o=i(2172),s=i(1920);const r={title:"Components and Services",description:"VertiGIS Studio Mobile - Component and service configuration"},c=void 0,a={id:"mobile/api-components",title:"Components and Services",description:"VertiGIS Studio Mobile - Component and service configuration",source:"@site/docs/mobile/api-components.mdx",sourceDirName:"mobile",slug:"/mobile/api-components",permalink:"/docs/mobile/api-components",draft:!1,unlisted:!1,editUrl:"https://github.com/vertigis/studio-dev-center/edit/master/docs/mobile/api-components.mdx",tags:[],version:"current",frontMatter:{title:"Components and Services",description:"VertiGIS Studio Mobile - Component and service configuration"},sidebar:"mobile",previous:{title:"Commands, Operations and Events Reference",permalink:"/docs/mobile/api-commands-operations-events"}},d={},m=[];function l(e){const n={a:"a",admonition:"admonition",p:"p",...(0,o.M)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["Here is a detailed schema for JSON that can be used within ",(0,t.jsx)(n.a,{href:"/docs/mobile/configuration-app-config-getting-started",children:"App config"})," to configure components and services."]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Another way to discover the methods and configurable properties of built-in models and services is to explore the Typescript definitions using your IDE of choice. We recommend ",(0,t.jsx)(n.a,{href:"https://code.visualstudio.com/",children:"Visual Studio Code"}),"."]})}),"\n",(0,t.jsx)(s.c,{product:"mobile",type:"config"})]})}function p(e={}){const{wrapper:n}={...(0,o.M)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},1920:(e,n,i)=>{i.d(n,{c:()=>x});var t=i(1504),o=i(3664),s=i(7624);function r(e){return e.replace("#/definitions/","")}function c(e){return`definition-${r(e)}`}function a(e,n){const i=r(e);if(!(i.startsWith("esri.rest-api")||i.startsWith("viewer-spec.SingleCommand")||i.startsWith("viewer-spec.SingleOperation")))return n.definitions[i]}function d(e){const{isArray:n,name:i,schema:t}=e,o=r(i),d=a(i,t);return d&&"object"===d.type?(0,s.jsx)("code",{children:(0,s.jsxs)("a",{href:`#${c(i)}`,children:[o,n&&"[]"]})}):(0,s.jsxs)("code",{children:[o,n&&"[]"]})}function m(e,n,i){let t=e;if(!t.description)return null;if(t.description.toLocaleLowerCase().startsWith("see {@link")){let e;if(t.$ref)e=a(t.$ref,n);else{const i=t.description.toLocaleLowerCase().match(/(see {@link )([a-zA-Z\.]*)/),o=i?.[2].split(".")[0],s=i?.[2].split(".")[1];o&&s&&(e=n.definitions[o]?.properties?.[s])}e&&(t=e);const i=t.description?.toLocaleLowerCase().match(/see \{\@link [a-zA-Z\.}.]*/)?.[0];i&&(t.description=t.description.replace(i,""))}return t.description&&(0,s.jsx)("div",{className:i,children:t.description})}function l(e,n){return e.properties?(0,s.jsx)("div",{className:"margin-left--sm",children:Object.entries(e.properties).map((([i,t])=>(0,s.jsxs)("div",{className:"margin-bottom--md",children:[(0,s.jsxs)("div",{className:"margin-bottom--sm",children:[(0,s.jsx)("code",{children:i}),e.required?.includes(i)&&(0,s.jsx)("span",{className:"badge badge--secondary",children:"Required"})]}),(0,s.jsxs)("div",{className:"margin-left--sm",children:[(0,s.jsx)(p,{definition:t,schema:n}),m(t,n,"margin-top--sm")]})]},i)))}):null}function p(e){const{schema:n}=e;let i=e.definition;if("string"==typeof i){const e=a(i,n);console.warn("Couldn't find definition:",i),i=e}if(!i)return(0,s.jsx)("div",{style:{fontStyle:"italic"},children:"There are no arguments"});if(i.$ref){const e=a(i.$ref,n);return e&&"object"!==e.type?(0,s.jsx)(p,{definition:e,schema:n}):(0,s.jsx)(d,{name:i.$ref,schema:n})}if(i.type){if("string"===i.type&&i.enum){const e=i.enum.map((e=>`"${e}"`)).join(" | ");return(0,s.jsx)("code",{children:e})}if("array"===i.type&&i.items){const e=e=>(0,s.jsx)(s.Fragment,{children:e.map(((e,i)=>(0,s.jsxs)("div",{children:[(0,s.jsx)(p,{definition:e,schema:n}),"[]"]},`${e.$ref}-${i}`||i)))});if(Array.isArray(i.items))return e(i.items);if(Array.isArray(i.items.anyOf))return e(i.items.anyOf);if(i.items.$ref){const e=i.items.$ref;return(0,s.jsx)(d,{isArray:!0,name:e,schema:n})}return(0,s.jsxs)("code",{children:[i.items.type,"[]"]})}if("object"===i.type)return(e=>e.properties&&2===Object.keys(e.properties).length&&2===e.required?.length&&"name"===e.required[0]&&"arguments"===e.required[1])(i)?null:i.properties?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("code",{children:"object"}),l(i,n)]}):i.additionalProperties&&!0!==i.additionalProperties&&"string"===i.additionalProperties.type?(0,s.jsx)("code",{children:i.additionalProperties.enum?.map((e=>`"${e}"`)).join(" | ")}):(0,s.jsx)("code",{children:"object"});if(Array.isArray(i.type)){const e=i.type.filter((e=>"null"!==e));return 0===e.length?null:1===e.length?(0,s.jsx)("code",{children:e[0]}):(0,s.jsx)(s.Fragment,{children:e.map((e=>(0,s.jsx)("div",{children:(0,s.jsx)("code",{children:e})},e)))})}return(0,s.jsx)("code",{children:i.type})}if(i.anyOf){const e=i.anyOf.filter((e=>!("null"===e.type)));return(0,s.jsxs)(s.Fragment,{children:[e.length>1&&(0,s.jsx)("div",{children:"Any of:"}),e.map(((e,i)=>(0,s.jsx)("div",{children:(0,s.jsx)(p,{definition:e,schema:n})},`${e.$ref}-${i}`||i)))]})}return(0,s.jsx)("code",{children:"unknown"})}function u(e){return!!e.$ref}function f(e){return e?.type?.includes("null")||e?.anyOf?.some(f)}function h(e){const{schema:n,type:i}=e,t=n.definitions;let o;o="command"===i?"viewer-spec.SingleCommand":"operation"===i?"viewer-spec.SingleOperation":"viewer-spec.Event";const c=t[o]?.anyOf?.filter(u).map((e=>r(e.$ref)));return c?(0,s.jsx)(s.Fragment,{children:c.map((e=>{const o=t[e],r=function(e,n){return`${n}-${e}`}(e,i),c=t[`${e}:input`],a=t[`${e}:output`];return o?(0,s.jsxs)("div",{className:"margin-bottom--lg",children:[(0,s.jsx)("h3",{id:r,children:e}),m(o,n,"margin-bottom--md"),(0,s.jsxs)("div",{className:"margin-bottom--md",children:[(0,s.jsx)("div",{children:"Argument "+(!0===f(c)?"(optional)":"")}),(0,s.jsx)("div",{className:"margin-left--sm",children:(0,s.jsx)(p,{definition:c,schema:n})})]}),"operation"===i&&a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:"Result"}),(0,s.jsx)("div",{className:"margin-left--sm",children:(0,s.jsx)(p,{definition:a,schema:n})})]})]},e):null}))}):null}function j(e){const{definitionName:n,schema:i}=e,t=r(n),o=a(n,i);if(!o)return null;if("object"!==o.type)return console.warn("Tried to render definition for non-object type",t),null;const d=c(t);return(0,s.jsxs)("div",{className:"margin-bottom--lg",children:[(0,s.jsx)("h3",{id:d,children:t}),m(o,i,"margin-bottom--md"),(0,s.jsx)("div",{children:"Properties"}),(!o.properties||0===Object.keys(o.properties).length)&&(0,s.jsx)("em",{children:"This object doesn't currently contain any properties."}),o.properties&&l(o,i)]})}function g(e){const{schema:n}=e,i=Object.entries(n.definitions).reduce(((e,[n,i])=>"object"===i.type?{...e,[n]:i}:e),{});return(0,s.jsx)("div",{children:Object.keys(i).sort(((e,n)=>{const i=e.toLocaleLowerCase().includes("modelproperties"),t=n.toLocaleLowerCase().includes("modelproperties");return i&&t?e.localeCompare(n):i?-1:t?1:e.localeCompare(n)})).map((e=>(0,s.jsx)(j,{definitionName:e,schema:n},e)))})}function v(e){const{schema:n,type:i}=e;return(0,s.jsxs)(s.Fragment,{children:[("argument"===i||"config"===i)&&(0,s.jsx)(g,{schema:n}),"command"===i&&(0,s.jsx)(h,{schema:n,type:"command"}),"event"===i&&(0,s.jsx)(h,{schema:n,type:"event"}),"operation"===i&&(0,s.jsx)(h,{schema:n,type:"operation"})]})}function x(e){return function({children:e,fallback:n}){return(0,o.c)()?(0,s.jsx)(s.Fragment,{children:e?.()}):n??null}({children:()=>(0,s.jsx)(b,{...e})})}const y={web:{action:void 0,event:void 0,config:void 0},mobile:{action:void 0,event:void 0,config:void 0},common:{action:void 0,event:void 0,config:void 0}};function b(e){const{product:n,type:i}=e,[o,r]=(0,t.useState)();return(0,t.useEffect)((()=>{let e,t=!1;switch(i){case"command":case"operation":e="action";break;case"event":e="event";break;case"config":e="config"}return(async()=>{e&&!y[n][e]&&("config"===i?(y.common[e]=fetch("https://apps.vertigisstudio.com/web/common-app-config.schema.json"),y[n][e]=fetch(`https://apps.vertigisstudio.com/web/${n}-app-config.schema.json`)):y[n][e]=fetch(`https://apps.vertigisstudio.com/web/${n}-${e}.schema.json`));const o=[];if("config"===e){const e=await y.common.config,i=await y[n].config,t=await e.clone().json(),s=await i.clone().json();o.push(t),o.push(s)}else{const e=await y[n].action,i=await y[n].event,t=await e.clone().json(),s=await i.clone().json();o.push(t),o.push(s)}if(t)return;const s={$ref:"#/definitions/viewer-spec.ActionObject"},c={type:"string"},a={definitions:"config"!==i?{"viewer-spec.ActionObject":{properties:{name:{description:"The name of a command or operation.",type:"string"},arguments:{description:"The arguments for the command or operation.",type:"object"}},required:["name","arguments"],type:"object"},"viewer-spec.Action":{description:`An action to execute in the viewer; can be an action name, an action object, or a command chain (https://developers.vertigisstudio.com/docs/${n}/configuration-commands-operations/#command-chains). The list of valid action names are the names of the commands and operations listed in this document`,anyOf:[c,s,{items:{anyOf:[c,s]},type:"array"}]}}:{}};o.forEach((e=>{Object.keys(e.definitions).forEach((n=>{a.definitions[n]=e.definitions[n]}))})),r(a)})(),()=>{t=!0}}),[n]),(0,t.useEffect)((()=>{if(!o)return;const e=window.decodeURIComponent(window.location.hash);e&&document.getElementById(e.substring(1))?.scrollIntoView()}),[o]),o?(0,s.jsx)(v,{schema:o,type:i}):(0,s.jsx)("div",{children:"Loading..."})}},2172:(e,n,i)=>{i.d(n,{I:()=>c,M:()=>r});var t=i(1504);const o={},s=t.createContext(o);function r(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);