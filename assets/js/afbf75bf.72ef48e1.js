"use strict";(globalThis.webpackChunkvertigis_studio_dev_center=globalThis.webpackChunkvertigis_studio_dev_center||[]).push([[7752,2168],{4260:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>c,metadata:()=>a,toc:()=>h});var r=i(7624),o=i(2172),s=i(3480),n=i(964);const c={title:"Create an Activity",description:"VertiGIS Studio Workflow - Create a workflow activity for web applications"},l=void 0,a={id:"workflow/sdk-server-create-activity",title:"Create an Activity",description:"VertiGIS Studio Workflow - Create a workflow activity for web applications",source:"@site/docs/workflow/sdk-server-create-activity.mdx",sourceDirName:"workflow",slug:"/workflow/sdk-server-create-activity",permalink:"/docs/workflow/sdk-server-create-activity",draft:!1,unlisted:!1,editUrl:"https://github.com/vertigis/studio-dev-center/edit/master/docs/workflow/sdk-server-create-activity.mdx",tags:[],version:"current",frontMatter:{title:"Create an Activity",description:"VertiGIS Studio Workflow - Create a workflow activity for web applications"},sidebar:"workflow",previous:{title:"SDK Overview",permalink:"/docs/workflow/sdk-server-overview"},next:{title:"Reference a Third Party Library",permalink:"/docs/workflow/sdk-server-reference-third-party-library"}},d={},h=[{value:"Prerequisites",id:"prerequisites",level:2},...s.toc,{value:"Create the Activity",id:"create-the-activity",level:2},{value:"Register the Activity with an Assembly Attribute",id:"register-the-activity-with-an-assembly-attribute",level:2},{value:"Deploy the Activity",id:"deploy-the-activity",level:2},{value:"Use the Activity in a Workflow",id:"use-the-activity-in-a-workflow",level:2}];function p(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,o.M)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"This article will walk you through creating a new workflow activity for VertiGIS Studio Workflow Server."}),"\n",(0,r.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(s.default,{}),"\n",(0,r.jsx)(t.h2,{id:"create-the-activity",children:"Create the Activity"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["Create a new file ",(0,r.jsx)(t.code,{children:"CustomActivity.cs"})," in the root of your VertiGIS Studio Workflow Server extension project."]}),"\n",(0,r.jsxs)(t.li,{children:["Add a new skeleton workflow activity that implements ",(0,r.jsx)(t.code,{children:"IActivityHandler"}),"."]}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cs",metastring:'title="App1/App1/CustomActivity.cs"',children:'using VertiGIS.Workflow.Runtime;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\n\nnamespace App1.Workflow\n{\n    public class CustomActivity : IActivityHandler\n    {\n        public static string Action { get; } = "uuid:<uuid>::CustomActivity";\n\n        public Task<IDictionary<string, object?>> Execute(IDictionary<string, object?> inputs, IActivityContext context)\n        {\n            return Task.FromResult((IDictionary<string, object?>)new Dictionary<string, object?>(){\n                ["test"] = "value"\n            });\n        }\n    }\n}\n'})}),"\n",(0,r.jsx)(t.h2,{id:"register-the-activity-with-an-assembly-attribute",children:"Register the Activity with an Assembly Attribute"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["Create a new file, ",(0,r.jsx)(t.code,{children:"Properties\\AssemblyInfo.cs"})]}),"\n",(0,r.jsxs)(t.li,{children:["Add the custom VertiGIS Studio Workflow attribute to ",(0,r.jsx)(t.code,{children:"AssemblyInfo.cs"}),":"]}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cs",metastring:'title="App1/App1/Properties/AssemblyInfo.cs"',children:"[assembly: VertiGIS.Workflow.Runtime.WorkflowActivities]\n"})}),"\n",(0,r.jsx)(t.p,{children:"This registers the assembly to a namespace that VertiGIS Studio Workflow Server can discover."}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsxs)(t.p,{children:["By convention, assembly attributes are typically added to a file called ",(0,r.jsx)(t.code,{children:'"Properties\\AssemblyInfo.cs"'}),", but they can be added to any code file."]})}),"\n",(0,r.jsx)(t.h2,{id:"deploy-the-activity",children:"Deploy the Activity"}),"\n",(0,r.jsxs)(t.p,{children:["Follow the instructions to ",(0,r.jsx)(t.a,{href:"/docs/workflow/sdk-server-overview#deploying-vertigis-studio-workflow-server-activities",children:"deploy VertiGIS Studio Workflow Server activities"}),"."]}),"\n",(0,r.jsx)(t.h2,{id:"use-the-activity-in-a-workflow",children:"Use the Activity in a Workflow"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.a,{href:"https://docs.vertigisstudio.com/workflow/latest/help/server-workflows.html",children:"Server workflows"})," that run on your VertiGIS Studio Workflow Server deployment can now run this custom activity."]}),"\n",(0,r.jsx)(t.admonition,{type:"tip",children:(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.a,{href:"/docs/workflow/sdk-net-register-activities",children:"Registering stubs for .NET activities"})," provides a user friendly interface for your custom activities in VertiGIS Studio Workflow Designer."]})}),"\n",(0,r.jsxs)(t.p,{children:["You can run the custom activity by referencing it by action with ",(0,r.jsxs)(t.a,{href:"https://docs.vertigisstudio.com/workflow/latest/help/run-activity.html",children:["the ",(0,r.jsx)(t.code,{children:"RunActivity"})," activity"]}),'. The custom activity created in this article takes no inputs but produces an output with the property "test".']}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsxs)("p",{children:[(0,r.jsxs)(t.p,{children:["You can"," "]}),(0,r.jsx)("a",{href:(0,n.c)("workflows/server-create-activity.json"),download:"custom-server-activity.json",target:"_blank",children:(0,r.jsx)(t.p,{children:"download this demo server workflow"})})," ",(0,r.jsx)(t.p,{children:"that runs the custom activity and"}),(0,r.jsxs)("a",{href:"https://docs.vertigisstudio.com/workflow/latest/help/import-export-workflows.html",target:"_blank",children:[" ",(0,r.jsxs)(t.p,{children:["import it into the VertiGIS Studio Workflow Designer."," "]})]})]})})]})}function u(e={}){const{wrapper:t}={...(0,o.M)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},3480:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>n,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>a});var r=i(7624),o=i(2172);const s={},n=void 0,c={id:"workflow/snippets/prereqs-server",title:"prereqs-server",description:"Extending VertiGIS Studio Workflow with server side components requires an on-premises installation of VertiGIS Studio Workflow. You will need administrative access to this installation.",source:"@site/docs/workflow/snippets/prereqs-server.mdx",sourceDirName:"workflow/snippets",slug:"/workflow/snippets/prereqs-server",permalink:"/docs/workflow/snippets/prereqs-server",draft:!1,unlisted:!1,editUrl:"https://github.com/vertigis/studio-dev-center/edit/master/docs/workflow/snippets/prereqs-server.mdx",tags:[],version:"current",frontMatter:{}},l={},a=[];function d(e){const t={a:"a",admonition:"admonition",p:"p",...(0,o.M)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.admonition,{title:"Important",type:"info",children:(0,r.jsxs)(t.p,{children:["Extending VertiGIS Studio Workflow with ",(0,r.jsx)(t.a,{href:"https://docs.vertigisstudio.com/workflow/latest/help/server-workflows.html",children:"server side components"})," requires an ",(0,r.jsx)(t.a,{href:"https://docs.vertigisstudio.com/workflow/latest/help/installation.html",children:"on-premises installation of VertiGIS Studio Workflow"}),". You will need administrative access to this installation."]})}),"\n",(0,r.jsxs)(t.p,{children:["Follow the instructions in the ",(0,r.jsx)(t.a,{href:"/docs/workflow/sdk-server-overview",children:"VertiGIS Studio Workflow Server"})," page to set up your development environment and VertiGIS Studio Workflow Server extension project."]}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsxs)(t.p,{children:["A working knowledge of ",(0,r.jsx)(t.a,{href:"https://docs.microsoft.com/en-ca/dotnet/csharp/",children:"C#"})," and ",(0,r.jsx)(t.a,{href:"https://dotnet.microsoft.com/platform/dotnet-standard",children:".NET Standard"})," is recommended before extending VertiGIS Studio Workflow Server"]})})]})}function h(e={}){const{wrapper:t}={...(0,o.M)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},2172:(e,t,i)=>{i.d(t,{I:()=>c,M:()=>n});var r=i(1504);const o={},s=r.createContext(o);function n(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:n(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);