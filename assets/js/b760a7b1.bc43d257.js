"use strict";(globalThis.webpackChunkvertigis_studio_dev_center=globalThis.webpackChunkvertigis_studio_dev_center||[]).push([[6835],{8518:(e,r,i)=>{i.r(r),i.d(r,{assets:()=>h,contentTitle:()=>d,default:()=>x,frontMatter:()=>l,metadata:()=>t,toc:()=>v});const t=JSON.parse('{"id":"web/sdk-services-create","title":"Create a Service","description":"VertiGIS Studio Web - Create a Service for VertiGIS Studio Web","source":"@site/docs/web/sdk-services-create.mdx","sourceDirName":"web","slug":"/web/sdk-services-create","permalink":"/docs/web/sdk-services-create","draft":false,"unlisted":false,"editUrl":"https://github.com/vertigis/studio-dev-center/edit/master/docs/web/sdk-services-create.mdx","tags":[],"version":"current","frontMatter":{"title":"Create a Service","description":"VertiGIS Studio Web - Create a Service for VertiGIS Studio Web"},"sidebar":"web","previous":{"title":"Overview","permalink":"/docs/web/sdk-services-overview"},"next":{"title":"Service Reference","permalink":"/docs/web/sdk-services-reference"}}');var s=i(4848),n=i(8453),c=i(6025),o=i(9389),a=i(556);const l={title:"Create a Service",description:"VertiGIS Studio Web - Create a Service for VertiGIS Studio Web"},d=void 0,h={},v=[{value:"Create the Service",id:"create-the-service",level:2},{value:"Register the Service",id:"register-the-service",level:2},{value:"Next Steps",id:"next-steps",level:2}];function p(e){const r={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.p,{children:["Creating a new ",(0,s.jsx)(r.a,{href:"/docs/web/sdk-services-create",children:"custom service"})," involves a few important steps:"]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"#create-the-service",children:"Create the service source file"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"#register-the-service",children:"Register the service in your library registration file"})}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"create-the-service",children:"Create the Service"}),"\n",(0,s.jsxs)(r.p,{children:["Create the service source file in a new folder within the ",(0,s.jsx)(r.code,{children:"src/services"})," folder. For example to create a new service called ",(0,s.jsx)(r.code,{children:"ExampleService"}),", create a new file called ",(0,s.jsx)(r.code,{children:"ExampleService.ts"})," in ",(0,s.jsx)(r.code,{children:"src/services/ExampleService"})," with the following content:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",metastring:'title="src/services/ExampleService.ts"',children:'import { ServiceBase } from "@vertigis/web/services";\n\nexport default class ExampleService extends ServiceBase {}\n'})}),"\n",(0,s.jsxs)(r.p,{children:["If you want your service to be able to serialize and deserialize configuration specific to the service from ",(0,s.jsx)(r.code,{children:"app.json"}),", you can extend from ",(0,s.jsx)(r.code,{children:"ConfigurableServiceBase"})," instead:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",metastring:'title="src/services/ExampleService.ts"',children:'import { ServiceModelProperties } from "@vertigis/web/models";\nimport {\n    ConfigurableServiceBase,\n    serializable,\n} from "@vertigis/web/services";\n\ninterface ExampleModelProperties extends ServiceModelProperties {\n    exampleProperty: string;\n}\n\n// highlight-start\n@serializable\nexport default class ExampleService extends ConfigurableServiceBase<ExampleModelProperties> {\n    // highlight-end\n    exampleProperty: string;\n}\n'})}),"\n",(0,s.jsx)(r.h2,{id:"register-the-service",children:"Register the Service"}),"\n",(0,s.jsx)(r.p,{children:"Finally we need to register the service with the VertiGIS Studio Web service registry so that it is aware of your new service."}),"\n",(0,s.jsxs)(r.p,{children:["To simplify the module imports, we'll make a new file in the ",(0,s.jsx)(r.code,{children:"ExampleService"})," folder called ",(0,s.jsx)(r.code,{children:"index.ts"}),". Note that this file is for convenience, and is not required:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",metastring:'title="src/services/ExampleService/index.ts"',children:'export { default } from "./ExampleService";\n'})}),"\n",(0,s.jsxs)(r.p,{children:["Now register your service with the service registry by modifying the ",(0,s.jsx)(r.code,{children:"src/index.ts"})," file:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",metastring:'title="src/index.ts"',children:'import { LibraryRegistry } from "@vertigis/web/config";\n\n// highlight-next-line\nimport ExampleService from "./services/ExampleService";\n\nexport default function (registry: LibraryRegistry) {\n    // ... other item registrations\n\n    // highlight-start\n    registry.registerService({\n        id: "example",\n        getService: (config) => new ExampleService(config),\n        // Use this setting if you want your service to load on\n        // application startup. Defaults to `false`.\n        loadOnStartup: true,\n    });\n    // highlight-end\n}\n'})}),"\n",(0,s.jsx)(r.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(a.A,{children:[(0,s.jsx)(o.A,{title:"Deploy your Service",description:"Learn how to deploy your custom service",link:(0,c.Ay)("docs/web/sdk-deployment")}),(0,s.jsx)(o.A,{title:"Create a Service that Manages Dynamic Data",description:"Follow along with a more in depth service example",link:(0,c.Ay)("docs/web/tutorial-service-dynamic-data")})]})]})}function x(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},9389:(e,r,i)=>{i.d(r,{A:()=>o});var t=i(8774),s=(i(6540),i(53));const n={root:"root_Uwqo"};var c=i(4848);function o({title:e,description:r,link:i}){return(0,c.jsx)("div",{className:(0,s.A)("card-demo",n.root),children:(0,c.jsxs)("div",{className:"card",children:[(0,c.jsx)("div",{className:"card__header",children:(0,c.jsx)("h3",{children:e})}),(0,c.jsx)("div",{className:"card__body",children:(0,c.jsx)("p",{children:r})}),(0,c.jsx)("div",{className:"card__footer",children:(0,c.jsx)(t.A,{className:"button button--secondary button--block",to:i,children:"Get Started"})})]})})}},556:(e,r,i)=>{i.d(r,{A:()=>n});i(6540);const t={root:"root_vxd5"};var s=i(4848);function n({children:e}){return(0,s.jsx)("div",{className:t.root,children:e})}},53:(e,r,i)=>{function t(e){var r,i,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e))for(r=0;r<e.length;r++)e[r]&&(i=t(e[r]))&&(s&&(s+=" "),s+=i);else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}i.d(r,{A:()=>s});const s=function(){for(var e,r,i=0,s="";i<arguments.length;)(e=arguments[i++])&&(r=t(e))&&(s&&(s+=" "),s+=r);return s}},8453:(e,r,i)=>{i.d(r,{R:()=>c,x:()=>o});var t=i(6540);const s={},n=t.createContext(s);function c(e){const r=t.useContext(n);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),t.createElement(n.Provider,{value:r},e.children)}}}]);