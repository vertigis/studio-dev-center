"use strict";(globalThis.webpackChunkvertigis_studio_dev_center=globalThis.webpackChunkvertigis_studio_dev_center||[]).push([[5119],{5407:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>c,default:()=>m,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"mobile/api-argument-definitions","title":"Argument Definition Reference","description":"VertiGIS Studio Mobile - Argument Definition API Reference","source":"@site/docs/mobile/api-argument-definitions.mdx","sourceDirName":"mobile","slug":"/mobile/api-argument-definitions","permalink":"/docs/mobile/api-argument-definitions","draft":false,"unlisted":false,"editUrl":"https://github.com/vertigis/studio-dev-center/edit/master/docs/mobile/api-argument-definitions.mdx","tags":[],"version":"current","frontMatter":{"title":"Argument Definition Reference","description":"VertiGIS Studio Mobile - Argument Definition API Reference"},"sidebar":"mobile","previous":{"title":"Events Reference","permalink":"/docs/mobile/api-events"},"next":{"title":"Components and Services","permalink":"/docs/mobile/api-components"}}');var r=n(4848),s=n(8453),o=n(8038);const a={title:"Argument Definition Reference",description:"VertiGIS Studio Mobile - Argument Definition API Reference"},c=void 0,d={},l=[{value:"Argument Definitions",id:"argument-definitions",level:2}];function u(e){const i={h2:"h2",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.h2,{id:"argument-definitions",children:"Argument Definitions"}),"\n",(0,r.jsx)(o.A,{product:"mobile",type:"argument"})]})}function m(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},8038:(e,i,n)=>{n.d(i,{A:()=>E});var t=n(8478),r=n(4531),s=n.n(r),o=n(6540),a=n(1107),c=n(11),d=n(5603),l=n(23),u=n(2540);function m(e){return e.replace("#/definitions/","")}function p(e,i="web"){if(!e||""===e)return;const n=m(e);return"Features"===n||"Feature"===n?"docs/web/api-objects#features":"FeatureSource"===n?"docs/web/api-objects#featuresource":n.endsWith("Extension")?"docs/web/api-objects#extensions":window?.location.href.includes("api-argument-definitions")?`#definition-${n}`:`docs/${i}/api-argument-definitions#definition-${n}`}function f(e){return p(e)?.split("#")[1]}function h(e,i){const n=m(e);if(!n.startsWith("viewer-spec.SingleCommand")&&!n.startsWith("viewer-spec.SingleOperation"))return i.definitions[n]}function g(e){const i=e.slice(),n=[],t=i.findIndex((e=>"@vertigis.arcgis-extensions.data.Feature.Feature"===e.$ref));t>=0&&(i.splice(t,1),n.push("Feature"));const r=i.findIndex((e=>"@vertigis.arcgis-extensions.data.FeatureSet.FeatureSet"===e.$ref));r>=0&&(i.splice(r,1),n.push("FeatureSet"));const s=i.findIndex((e=>"@vertigis.arcgis-extensions.data.FeatureList.FeatureList"===e.$ref));s>=0&&(i.splice(s,1),n.push("FeatureList"));const o=i.findIndex((e=>"@vertigis.arcgis-extensions.data.FeatureStream.FeatureStream"===e.$ref));o>=0&&(i.splice(o,1),n.push("FeatureStream"));return i.filter((e=>"array"===e.type)).forEach((e=>{const i=e?.items?.anyOf?.slice();if(i){const t=i.findIndex((e=>"@vertigis.arcgis-extensions.data.Feature.Feature"===e.$ref));t>=0&&(i?.splice(t,1),n.push("Feature[]")),e.items.anyOf=i}})),i.splice(t>=0?t:0,0,{$ref:`@vertigis.api-docs.Features ${n.join(", ")}`}),i}var j=n(6025),x=n(4848);const v=(e,i,n,t)=>(0,x.jsxs)("span",{children:[(0,x.jsx)("code",{children:i?(0,x.jsx)("a",{href:i,target:i.startsWith("http")?"_blank":"_self",onClick:()=>window.location.hash=t,children:e}):e}),n&&(0,x.jsx)("span",{className:"messaging-ref-type-name",children:n})]});function y(e){const{isArray:i,name:n,schema:t,linkId:r,product:s}=e,o=m(n),a=o.includes(" ")?o.split(/\s(.*)/)[1]:o,c=o.split(" ")[0].replace("/",".").split("."),d=c[c.length-1],l=h(n,t);if(l&&"object"===l.type)return v(i?`${d}[]`:d,(0,j.Ay)(p(n,s)),d!==a?a:void 0,r);if("Features"===d||"Feature"===d||"FeatureSource"===d||d.endsWith("Extension"))return v(i?`${d}[]`:d,(0,j.Ay)(p(d,s)),d!==a?a:void 0,r);if(a.startsWith("esri")&&!a.includes("rest-api")){const e=a.replace(".","/").split("/");return v(i?`${e[e.length-1]}[]`:e[e.length-1],`https://developers.arcgis.com/javascript/latest/api-reference/${e.join("-")}.html`,`@arcgis.core.${e.splice(1).join(".")}`,r)}return v(i?`${d}[]`:d,void 0,d!==a?a:void 0,r)}c.A.registerLanguage("javascript",d.A);const b=/{@link ?([\S\s]*?)}/,$=new RegExp(b,"g"),w=/([S|s]ee ?{@link ?)([\S\s]*?)}/,F=new l.Dz((0,u.x)({highlight:e=>c.A.highlight(e,{language:"javascript"}).value})),A=e=>(0,x.jsx)("span",{dangerouslySetInnerHTML:{__html:e.includes("|\n|")||e.includes("```")?F.parse(e,{async:!1,breaks:!0}):F.parseInline(e,{async:!1,breaks:!0})}});function k(e,i,n,t){let{description:r}=e;if(!r)return;const s=r.match($);if(!s)return(0,x.jsx)("div",{className:n,children:A(r)});if(1===s.length&&r.toLocaleLowerCase().match(w)){const s=r.toLocaleLowerCase().match(w)?.[2],o=e.$ref?h(e.$ref,i):(e=>{if(e?.includes(".")){const n=e?.split(".")[0],t=e?.split(".")[1];return n&&t&&i.definitions[n]?.properties?.[t]}if(e)return i.definitions[e]})(s);return o?k(o,i,n,t):void 0}return(0,x.jsx)("div",{className:n,children:s.flatMap(((e,n)=>((e,n)=>{const o=r?.indexOf(e)??0,a=r?.slice(0,o),c=r?.slice(o),d=e?.match(b);let l=(d?.[1]??d?.[2])?.trim();l?.includes("!")&&(l=l.split("!")[1]);const u=l?.startsWith("http"),m=l&&i.definitions[l]?(0,j.Ay)(p(l,t)):u?l:void 0,f=m?(0,x.jsx)("a",{href:m,target:u?"_blank":"_self",children:l}):l;return r=c?.slice(e.length),0===n?1===s.length?[(0,x.jsx)("span",{children:A(a)}),(0,x.jsx)("code",{children:f}),(0,x.jsx)(x.Fragment,{children:A(c?.slice(e.length))})]:[(0,x.jsx)("span",{children:A(a)}),(0,x.jsx)("code",{children:f}),(0,x.jsx)(x.Fragment,{children:A(r?.slice(0,r?.indexOf(s[n+1])))})]:r?.length>0?n<s.length-1?[(0,x.jsx)("code",{children:f}),(0,x.jsx)(x.Fragment,{children:A(r?.slice(0,r?.indexOf(s[n+1])))})]:[(0,x.jsx)("code",{children:f}),(0,x.jsx)(x.Fragment,{children:A(c?.slice(e.length))})]:[(0,x.jsx)("code",{children:f})]})(e,n)))})}function S(e,i,n,t){return e.properties?(0,x.jsx)("div",{className:"margin-left--sm",children:Object.entries(e.properties).map((([r,s])=>(0,x.jsxs)("div",{className:"margin-bottom--md",children:[(0,x.jsx)("div",{className:"margin-bottom--sm",children:(0,x.jsxs)("div",{className:"property-name-and-badges",children:[(0,x.jsx)("div",{role:"heading","aria-level":4,className:"monospaceHeader",children:r}),e.required?.includes(r)&&(0,x.jsx)("span",{className:"badge badge--secondary",children:"Required"})]})}),(0,x.jsxs)("div",{className:"margin-left--sm",children:[(0,x.jsx)(O,{definition:s,schema:i,linkId:f(n),product:t}),k(s,i,"margin-top--sm",t)]})]},r)))}):null}function O(e){const{schema:i,linkId:n,product:t}=e;let r=e.definition;if("string"==typeof r){const e=h(r,i);console.warn("Couldn't find definition:",r),r=e}if(!r)return(0,x.jsx)("div",{style:{fontStyle:"italic"},children:"There are no arguments"});if(r.$ref){const e=h(r.$ref,i);return e&&"object"!==e.type?(0,x.jsx)(O,{definition:e,schema:i,linkId:n,product:t}):(0,x.jsx)(y,{name:r.$ref,schema:i,linkId:n,product:t})}if(r.type){if("string"===r.type&&r.enum){const e=r.enum.map((e=>`"${e}"`)).join(" | ");return(0,x.jsx)("code",{children:e})}if("array"===r.type&&r.items){const e=e=>(0,x.jsx)(x.Fragment,{children:e.map(((e,r)=>(0,x.jsx)("div",{children:(0,x.jsx)(y,{isArray:!0,name:e.$ref??"",schema:i,linkId:n,product:t})},`${e.$ref}-${r}`||r)))});if(Array.isArray(r.items))return e(r.items);if(Array.isArray(r.items.anyOf))return e(r.items.anyOf);if(r.items.$ref){const e=r.items.$ref;return(0,x.jsx)(y,{isArray:!0,name:e,schema:i,linkId:n,product:t})}return(0,x.jsxs)("code",{children:[r.items.type,"[]"]})}if("object"===r.type)return(e=>e.properties&&2===Object.keys(e.properties).length&&2===e.required?.length&&"name"===e.required[0]&&"arguments"===e.required[1])(r)?null:r.properties?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("code",{children:"object"}),S(r,i,n,t)]}):r.additionalProperties&&!0!==r.additionalProperties&&"string"===r.additionalProperties.type?(0,x.jsx)("code",{children:r.additionalProperties.enum?.map((e=>`"${e}"`)).join(" | ")}):(0,x.jsx)("code",{children:"object"});if(Array.isArray(r.type)){const e=r.type.filter((e=>"null"!==e));return 0===e.length?null:1===e.length?(0,x.jsx)("code",{children:e[0]}):(0,x.jsx)(x.Fragment,{children:e.map((e=>(0,x.jsx)("div",{children:(0,x.jsx)("code",{children:e})},e)))})}return(0,x.jsx)("code",{children:r.type})}if(r.anyOf){const e=r.anyOf.filter((e=>!("null"===e.type)));return(0,x.jsxs)(x.Fragment,{children:[e.length>1&&(0,x.jsx)("div",{children:"Any of:"}),e.map(((e,r)=>(0,x.jsx)("div",{children:(0,x.jsx)(O,{definition:e,schema:i,linkId:n,product:t})},`${e.$ref}-${r}`||r)))]})}return(0,x.jsx)("code",{children:"unknown"})}function I(e){return!!e.$ref}function L(e){return e?.type?.includes("null")||e?.anyOf?.some(L)}function N(e){const{schema:i,type:n,product:t}=e,r=i.definitions;let s;s="command"===n?"viewer-spec.SingleCommand":"operation"===n?"viewer-spec.SingleOperation":"viewer-spec.Event";const o=r[s]?.anyOf?.filter(I).map((e=>m(e.$ref)));return o?(0,x.jsx)(x.Fragment,{children:o.map((e=>{const s=r[e],o=function(e,i){return`${i}-${e}`}(e,n),c=r[`${e}:input`],d=r[`${e}:output`];return s?(0,x.jsxs)("div",{className:"margin-bottom--lg",children:[(0,x.jsx)(a.A,{as:"h2",id:o,children:e}),k(s,i,"margin-bottom--md",t),(0,x.jsxs)("div",{className:"margin-bottom--md",children:[(0,x.jsx)("h3",{children:"Argument "+(!0===L(c)?"(optional)":"")}),(0,x.jsx)("div",{className:"margin-left--sm",children:(0,x.jsx)(O,{definition:c,schema:i,linkId:o,product:t})})]}),"operation"===n&&d&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{children:"Result"}),(0,x.jsx)("div",{className:"margin-left--sm",children:(0,x.jsx)(O,{definition:d,schema:i,linkId:o,product:t})})]})]},e):null}))}):null}function C(e){const{definitionName:i,schema:n,product:t}=e,r=m(i),s=r.replace("/",".").split("."),o=s[s.length-1],c=h(i,n);if(!c)return null;if("object"!==c.type)return console.warn("Tried to render definition for non-object type",r),null;const d=f(r);return(0,x.jsxs)("div",{className:"margin-bottom--lg",children:[(0,x.jsxs)("span",{children:[(0,x.jsx)(a.A,{as:"h2",id:d,children:o}),o!==r&&(0,x.jsx)("h5",{className:"messaging-definition-subheader",children:r})]}),k(c,n,"margin-bottom--md",t),(0,x.jsx)("h3",{children:"Properties"}),(!c.properties||0===Object.keys(c.properties).length)&&(0,x.jsx)("em",{children:"This object doesn't currently contain any properties."}),c.properties&&S(c,n,r,t)]})}function R(e){const{schema:i,product:n,type:t}=e,r=Object.entries(i.definitions).reduce(((e,[i,n])=>"object"===n.type?{...e,[i]:n}:e),{});return(0,x.jsx)("div",{children:Object.keys(r).filter((e=>"argument"===t?!e.toLocaleLowerCase().includes("modelproperties")&&!e.toLocaleLowerCase().endsWith(":input")&&!e.toLocaleLowerCase().endsWith(":output"):e.toLocaleLowerCase().includes("modelproperties"))).sort(((e,i)=>e.localeCompare(i))).map((e=>(0,x.jsx)(C,{definitionName:e,schema:i,product:n},e)))})}function _(e){const{schema:i,type:n,product:t}=e;return(0,x.jsxs)(x.Fragment,{children:[("argument"===n||"config"===n)&&(0,x.jsx)(R,{schema:i,product:t,type:n}),"command"===n&&(0,x.jsx)(N,{schema:i,type:"command",product:t}),"event"===n&&(0,x.jsx)(N,{schema:i,type:"event",product:t}),"operation"===n&&(0,x.jsx)(N,{schema:i,type:"operation",product:t})]})}function E(e){return(0,x.jsx)(t.A,{children:()=>(0,x.jsx)(W,{...e})})}const D={web:{action:void 0,event:void 0,config:void 0},mobile:{action:void 0,event:void 0,config:void 0},common:{action:void 0,event:void 0,config:void 0}},T=async(e,i)=>{let n;try{n=s().get(`${e}-${i}`)}catch(t){console.log(t)}if(!n){if(!D[e][i]){const n="config"===i?"app-config":i;D[e][i]=fetch(`https://apps.vertigisstudio.com/web/${e}-${n}.schema.json`)}const r=await D[e][i];if(n=await(r?.clone().json()),n)try{s().set(`${e}-${i}`,n,1440)}catch(t){console.error(t)}}return n};function W(e){const{product:i,type:n}=e,[t,r]=(0,o.useState)();return(0,o.useEffect)((()=>{let e,t=!1;switch(n){case"command":case"operation":e="action";break;case"event":e="event";break;case"argument":case"config":e="config"}return(async()=>{if(!e)return;let s,o,a,c;"config"===e&&(s=await T("common","config"),o=await T(i,"config")),"action"!==e&&"config"!==e||(a=await T(i,"action")),"event"!==e&&"config"!==e||(c=await T(i,"event"));const d=[];if(s&&d.push(s),o&&d.push(o),a&&d.push(a),c&&d.push(c),t)return;const l={$ref:"#/definitions/viewer-spec.ActionObject"},u={type:"string"},m={definitions:"config"!==n?{"viewer-spec.ActionObject":{properties:{name:{description:"The name of a command or operation.",type:"string"},arguments:{description:"The arguments for the command or operation.",type:"object"}},required:["name","arguments"],type:"object"},"viewer-spec.Action":{description:`An action to execute in the viewer; can be an action name, an action object, or a command chain (https://developers.vertigisstudio.com/docs/${i}/configuration-commands-operations/#command-chains). The list of valid action names are the names of the commands and operations listed in this document`,anyOf:[u,l,{items:{anyOf:[u,l]},type:"array"}]}}:{}};d.forEach((e=>{Object.keys(e.definitions).forEach((i=>{m.definitions[i]=function(e){if(!e)return!1;const i=e.map((e=>e.$ref));return!!(i.includes("@vertigis.arcgis-extensions.data.Feature.Feature")||i.includes("@vertigis.arcgis-extensions.data.FeatureSet.FeatureSet")||i.includes("@vertigis.arcgis-extensions.data.FeatureList.FeatureList")||i.includes("@vertigis.arcgis-extensions.data.FeatureStream.FeatureStream"))}(e.definitions[i].anyOf)?{...e.definitions[i],anyOf:g(e.definitions[i].anyOf)}:e.definitions[i]}))})),r(m)})(),()=>{t=!0}}),[i]),(0,o.useEffect)((()=>{if(!t)return;const e=window.decodeURIComponent(window.location.hash);e&&document.getElementById(e.substring(1))?.scrollIntoView()}),[t]),t?(0,x.jsx)(_,{schema:t,type:n,product:i}):(0,x.jsx)("div",{children:"Loading..."})}}}]);